import 'package:flutter/material.dart';
import 'package:flutter_screenutil/flutter_screenutil.dart';

TextStyle _textStyle(String _fontFamily,Color _fontColor, double _fontSize, FontWeight _fontWeight){
  return new TextStyle(
    fontFamily: _fontFamily,
    fontSize: _fontSize,
    fontWeight: _fontWeight,
    color: _fontColor,
  );
}

class LoginForm extends StatefulWidget{
  @override
  State<StatefulWidget> createState() {
    return LoginFormState();
  }
}

class LoginFormState extends State<LoginForm>{
  bool _isSelected = false;
  bool _passwordVisible = false;

  @override
  void initState() {
    _passwordVisible = true;
    super.initState();
  }

  void _radio(){
    setState(() {
      _isSelected = !_isSelected;
    });
  }

  Widget radioButton(bool isSelected){
    return new Container(
      height: ScreenUtil.getInstance().setHeight(15.0),
      width: ScreenUtil.getInstance().setWidth(15.0),
      margin: EdgeInsets.only(right: 7.0),
      padding: EdgeInsets.all(1.5),
      decoration: new BoxDecoration(
        shape: BoxShape.circle,
        border: Border.all(width: 2.5, color: Colors.blueAccent)
      ),
      child: isSelected
      ? new Container(
        width: double.infinity,
        height: double.infinity,
        decoration: new BoxDecoration(
          shape: BoxShape.circle,
          color: Colors.blueAccent
        ),
      ): new Container()
    );
  }

  @override
  Widget build(BuildContext context) {
    ScreenUtil.instance = ScreenUtil(
        height: MediaQuery.of(context).size.height,
        width: MediaQuery.of(context).size.width,
        allowFontScaling: true)..init(context);
    return new  Container(
      padding: EdgeInsets.symmetric(
        horizontal: ScreenUtil.getInstance().setWidth(25.0)
      ),
      child: new Container(
        width: double.infinity,
        height: ScreenUtil.getInstance().setHeight(325.0),
        padding: EdgeInsets.symmetric(
          vertical: 15.0,
          horizontal: 15.0
        ),
        decoration: new BoxDecoration(
            color: Colors.white,
            borderRadius: BorderRadius.circular(10.0),
            boxShadow: [
              new BoxShadow(
                color: Colors.black12,
                offset: Offset(0, 15.0),
                blurRadius: 15.0,
              ),
              new BoxShadow(
                  color: Colors.black12,
                  offset: Offset(0, -10.0),
                  blurRadius: 10.0
              )
            ]
        ),
        child: new Column(
          crossAxisAlignment: CrossAxisAlignment.center,
          children: <Widget>[
            new TextField(
              style: _textStyle("Poppins-Light", Colors.black, 21.0, FontWeight.w400) ,
              decoration: new InputDecoration(
                icon: new Container(
                  padding: EdgeInsets.only(top: 10.0, left: 10.0),
                  child: new Icon(Icons.account_box,
                    size: ScreenUtil.getInstance().setHeight(40.0),
                    color: Colors.blueAccent,
                  ),
                ),
                enabledBorder: new UnderlineInputBorder(
                    borderSide: new BorderSide(
                        color: Colors.blueGrey,
                        width: 1.5
                    )
                ),
                focusedBorder: new UnderlineInputBorder(
                    borderSide: new BorderSide(
                        color: Colors.blueAccent,
                        width: 1.5
                    )
                ),
                hintText: "نام کاربری",
                hintStyle: _textStyle("Vazir" ,Colors.blueGrey, 18.0, FontWeight.w700)
              ),
            ),
            new Padding(
              padding: EdgeInsets.only(
                top: ScreenUtil.getInstance().setHeight(40.0),
              ),
              child: new TextField(
                obscureText: _passwordVisible,
                decoration: new InputDecoration(
                  icon: new Container(
                    padding: EdgeInsets.only(top: 10.0, left: 10.0),
                    child: new Icon(Icons.lock,
                      size: ScreenUtil.getInstance().setHeight(40.0),
                      color: Colors.blueAccent,
                    ),
                  ),
                  enabledBorder: new UnderlineInputBorder(
                      borderSide: new BorderSide(
                          color: Colors.blueGrey,
                          width: 1.5
                      )
                  ),
                  focusedBorder: new UnderlineInputBorder(
                      borderSide: new BorderSide(
                          color: Colors.blueAccent,
                          width: 1.5
                      )
                  ),
                  hintText: "رمز عبور",
                  hintStyle: _textStyle("Vazir" ,Colors.blueGrey, 18.0, FontWeight.w700),
                  suffixIcon: new IconButton(
                    icon: new Icon(
                      _passwordVisible
                          ? Icons.visibility_off
                          : Icons.visibility,
                      color: Colors.blueGrey,
                    ),
                    onPressed: (){
                      setState(() {
                        _passwordVisible = !_passwordVisible;
                      });
                    },
                  ),
                ),
              ),
            ),
            new Padding(
              padding: EdgeInsets.only(top: ScreenUtil.getInstance().setHeight(25.0)
              ),
              child: new Row(
                mainAxisAlignment: MainAxisAlignment.spaceBetween,
                children: <Widget>[
                  new Container(
                    child: new Row(
                      mainAxisAlignment: MainAxisAlignment.start,
                      children: <Widget>[
                        new GestureDetector(
                            onTap: _radio,
                            child: radioButton(_isSelected)
                        ),
                        new Padding(
                          padding: EdgeInsets.only(
                              right: ScreenUtil.getInstance().setWidth(6.0)
                          ),
                          child: new Text("مرا به خاطر بسپار",
                            style: _textStyle("Vazir", Colors.blueGrey, 14.0, FontWeight.w700)
                          ),
                        )
                      ],
                    ),
                  ),
                  new GestureDetector(
                    child: new Text("فراموشی رمز عبور؟",
                        style: _textStyle("Vazir", Colors.blueAccent, 18.0, FontWeight.w700)
                    ),
                    onTap: (){},
                  )
                ],
              ),
            ),
            new Padding(
              padding: EdgeInsets.only(top: ScreenUtil.getInstance().setHeight(40.0)
              ),
              child: new Row(
                mainAxisAlignment: MainAxisAlignment.spaceAround,
                children: <Widget>[
                  new Container(
                    width: ScreenUtil.getInstance().setWidth(150.0),
                    height: ScreenUtil.getInstance().setHeight(55.0),
                    decoration: new BoxDecoration(
                      gradient: new RadialGradient(
                          radius: 5.0,
                          colors: [
                            Colors.blueAccent,
                            Colors.white
                          ]
                      ),
                      borderRadius: new BorderRadius.circular(6.0),
                    ),
                    child: new Material(
                        color: Colors.transparent,
                        child: new InkWell(
                          onTap: (){},
                          child: new Center(
                            child: new Text("ورود",
                              style: _textStyle("Vazir", Colors.white, 25.0, FontWeight.w900)
                            ),
                          ),
                        )
                    ),
                  ),
                ],
              ),
            )
          ],
        ),
      )
    );
  }
}
